 -----
 SIRH-EAE-WS
 -----
 Nicolas RAYNAUD
 -----
  15/11/2012
  
Intégration SIRH-EAE-WS avec le serveur de reporting BIRT

* Description
	
	SIRH-EAE-WS s'appuie sur le moteur de reporting BIRT afin de générer le report final qui fait office de document EAE validé par l'évaluateur et l'évalué.
	Ce reporting se fait par l'intermédiaire d'un serveur hébergeant un BIRT viewer et les différents templates nécessaires aux EAEs.
	Ce serveur de reporting BIRT est uniquement responsable de la génération du report et ne sera utilisé par SIRH-EAE-WS que pour générer et permettre le téléchargement d'un report. 
	Toute la communication se fait par web services REST sur HTTP.
	
+------------------------------------------+
Kiosque SIRH ---------> SIRH-EAE-WS	                               1./ Le kiosque envoie une demande de report EAE (demande de génération ou téléchargement)
                                    ----------> BIRT-REPORTING-SERVER  2./ Les WS SIRH-EAE-WS interprêtent la demande et commandent la génération du report au serveur BIRT
                        SIRH-EAE-WS <----------	                       3./ Le report est généré et téléchargé par SIRH-EAE-WS
                                                                           Le report peut être sauvé ou envoyé à un système tiers (ex.: par copie sur un disque distant)
Kiosque SIRH <---------	                                               4./ Le Kiosque SIRH est notifié de la génération du report et peut le recevoir par téléchargement si spécifié dans sa demande
+------------------------------------------+


* Intégration
	
	[[1]] <<Ajouter>> l'entrée suivante au fichier context.xml de tomcat:
	
+------------------------------------------+
<Parameter name="SIRH_EAE_WS_URL" 
		description="Base url for SIRH-EAE-WS" 
		value="http://ws-qual.eae.sirh.site-mairie.noumea.nc/" override="true" />
+------------------------------------------+

	[[2]] <<Déployer>> le war du BIRT Viewer : birt.war. Le répertoire de base de l'application birt est appelé: BIRT_ROOT.
	
	[[3]] <<Créer>> un répertoire "sirh-eae-reports" dans BIRT_ROOT
	
	[[4]] <<Déployer>> tous les fichiers du {{{../reports/}répertoire des reports}} dans le répertoire créé à l'étape 3 "BIRT_ROOT\sirh-eae-reports".
	
	[[5]] <<Tester>> le serveur en appelant l'URL suivante: {{{http://127.0.0.1:8085/birt/frameset?__report=sirh-eae-reports/conf.rptdesign}Report de configuration}}. Le document généré doit afficher la même URL que celle de la variable SIRH_EAE_WS_URL du contexte de l'étape 1.
	